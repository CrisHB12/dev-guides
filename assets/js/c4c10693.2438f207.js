"use strict";(globalThis.webpackChunkmural_codex=globalThis.webpackChunkmural_codex||[]).push([[252],{350(e,n,t){t.r(n),t.d(n,{assets:()=>d,contentTitle:()=>c,default:()=>u,frontMatter:()=>s,metadata:()=>o,toc:()=>l});const o=JSON.parse('{"id":"react/hooks-advanced","title":"Hooks Avanzados y Patrones","description":"Context, Reducers y Custom Hooks para aplicaciones complejas.","source":"@site/docs/react/hooks-advanced.md","sourceDirName":"react","slug":"/react/hooks-advanced","permalink":"/mural-codex/docs/react/hooks-advanced","draft":false,"unlisted":false,"editUrl":"https://github.com/CrisHB12/mural-codex/tree/main/docs/react/hooks-advanced.md","tags":[{"inline":true,"label":"react","permalink":"/mural-codex/docs/tags/react"},{"inline":true,"label":"context","permalink":"/mural-codex/docs/tags/context"},{"inline":true,"label":"hooks","permalink":"/mural-codex/docs/tags/hooks"},{"inline":true,"label":"patrones","permalink":"/mural-codex/docs/tags/patrones"}],"version":"current","sidebarPosition":5,"frontMatter":{"sidebar_position":5,"title":"Hooks Avanzados y Patrones","description":"Context, Reducers y Custom Hooks para aplicaciones complejas.","tags":["react","context","hooks","patrones"]},"sidebar":"tutorialSidebar","previous":{"title":"Hooks B\xe1sicos","permalink":"/mural-codex/docs/react/hooks-basics"},"next":{"title":"Data Fetching (TanStack Query)","permalink":"/mural-codex/docs/react/data-fetching"}}');var a=t(4848),r=t(8453);const s={sidebar_position:5,title:"Hooks Avanzados y Patrones",description:"Context, Reducers y Custom Hooks para aplicaciones complejas.",tags:["react","context","hooks","patrones"]},c="Hooks Avanzados y Patrones",d={},l=[{value:"<code>useContext</code>: Estado Global",id:"usecontext-estado-global",level:2},{value:"1. Crear el Contexto",id:"1-crear-el-contexto",level:3},{value:"2. Usar el Contexto",id:"2-usar-el-contexto",level:3},{value:"<code>useReducer</code>: L\xf3gica de Estado Compleja",id:"usereducer-l\xf3gica-de-estado-compleja",level:2},{value:"Custom Hooks (Ganchos Personalizados)",id:"custom-hooks-ganchos-personalizados",level:2}];function i(e){const n={code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",p:"p",pre:"pre",strong:"strong",...(0,r.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"hooks-avanzados-y-patrones",children:"Hooks Avanzados y Patrones"})}),"\n",(0,a.jsx)(n.p,{children:"Cuando tu aplicaci\xf3n crece, necesitas herramientas m\xe1s potentes para manejar la l\xf3gica y el estado global."}),"\n",(0,a.jsxs)(n.h2,{id:"usecontext-estado-global",children:[(0,a.jsx)(n.code,{children:"useContext"}),": Estado Global"]}),"\n",(0,a.jsx)(n.p,{children:"El Contexto provee una forma de pasar datos a trav\xe9s del \xe1rbol de componentes sin tener que pasar props manualmente en cada nivel (Prop Drilling)."}),"\n",(0,a.jsx)(n.h3,{id:"1-crear-el-contexto",children:"1. Crear el Contexto"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="src/context/ThemeContext.tsx"',children:"import { createContext, useContext, useState, ReactNode } from 'react';\n\n// Definir el tipo del contexto\ninterface ThemeContextType {\n  theme: 'light' | 'dark';\n  toggleTheme: () => void;\n}\n\n// Crear el contexto\nconst ThemeContext = createContext<ThemeContextType | undefined>(undefined);\n\n// Crear el Provider\nexport const ThemeProvider = ({ children }: { children: ReactNode }) => {\n  const [theme, setTheme] = useState<'light' | 'dark'>('light');\n\n  const toggleTheme = () => {\n    setTheme(prev => prev === 'light' ? 'dark' : 'light');\n  };\n\n  return (\n    <ThemeContext.Provider value={{ theme, toggleTheme }}>\n      {children}\n    </ThemeContext.Provider>\n  );\n};\n\n// Hook personalizado para usarlo f\xe1cilmente\nexport const useTheme = () => {\n  const context = useContext(ThemeContext);\n  if (!context) throw new Error('useTheme debe usarse dentro de ThemeProvider');\n  return context;\n};\n"})}),"\n",(0,a.jsx)(n.h3,{id:"2-usar-el-contexto",children:"2. Usar el Contexto"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="src/App.tsx"',children:"import { ThemeProvider, useTheme } from './context/ThemeContext';\n\nconst BotonTema = () => {\n  const { theme, toggleTheme } = useTheme();\n  return (\n    <button onClick={toggleTheme}>\n      Tema actual: {theme}\n    </button>\n  );\n};\n\nexport default function App() {\n  return (\n    <ThemeProvider>\n      <BotonTema />\n    </ThemeProvider>\n  );\n}\n"})}),"\n",(0,a.jsxs)(n.h2,{id:"usereducer-l\xf3gica-de-estado-compleja",children:[(0,a.jsx)(n.code,{children:"useReducer"}),": L\xf3gica de Estado Compleja"]}),"\n",(0,a.jsxs)(n.p,{children:["Similar a Redux, ",(0,a.jsx)(n.code,{children:"useReducer"})," es preferible a ",(0,a.jsx)(n.code,{children:"useState"})," cuando tienes una l\xf3gica de estado compleja que involucra m\xfaltiples sub-valores o cuando el pr\xf3ximo estado depende del anterior."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"type Estado = { contador: number };\ntype Accion = { type: 'incrementar' } | { type: 'decrementar' };\n\nfunction reducer(state: Estado, action: Accion): Estado {\n  switch (action.type) {\n    case 'incrementar':\n      return { contador: state.contador + 1 };\n    case 'decrementar':\n      return { contador: state.contador - 1 };\n    default:\n      return state;\n  }\n}\n\nfunction ContadorComplejo() {\n  const [state, dispatch] = useReducer(reducer, { contador: 0 });\n\n  return (\n    <>\n      Total: {state.contador}\n      <button onClick={() => dispatch({ type: 'decrementar' })}>-</button>\n      <button onClick={() => dispatch({ type: 'incrementar' })}>+</button>\n    </>\n  );\n}\n"})}),"\n",(0,a.jsx)(n.h2,{id:"custom-hooks-ganchos-personalizados",children:"Custom Hooks (Ganchos Personalizados)"}),"\n",(0,a.jsx)(n.p,{children:'Si tienes l\xf3gica que se repite en varios componentes, extr\xe1ela a tu propio Hook. Un Hook personalizado es una funci\xf3n de JS cuyo nombre empieza con "use" y puede llamar a otros Hooks.'}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsxs)(n.strong,{children:["Ejemplo: ",(0,a.jsx)(n.code,{children:"useFetch"})]})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",metastring:'title="src/hooks/useFetch.ts"',children:"import { useState, useEffect } from 'react';\n\nexport function useFetch<T>(url: string) {\n  const [data, setData] = useState<T | null>(null);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState<string | null>(null);\n\n  useEffect(() => {\n    setLoading(true);\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setData(data))\n      .catch(err => setError(err.message))\n      .finally(() => setLoading(false));\n  }, [url]);\n\n  return { data, loading, error };\n}\n"})}),"\n",(0,a.jsx)(n.p,{children:(0,a.jsx)(n.strong,{children:"Uso:"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-tsx",children:"const { data, loading } = useFetch<Usuario[]>('/api/users');\n"})})]})}function u(e={}){const{wrapper:n}={...(0,r.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(i,{...e})}):i(e)}},8453(e,n,t){t.d(n,{R:()=>s,x:()=>c});var o=t(6540);const a={},r=o.createContext(a);function s(e){const n=o.useContext(r);return o.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function c(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:s(e.components),o.createElement(r.Provider,{value:n},e.children)}}}]);